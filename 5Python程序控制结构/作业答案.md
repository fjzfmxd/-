# 程序控制结构 作业大难

---
2. 下面程序的输出结果是什么？(B)
   ```python
   score = 95
   if x < 60:
       print('不及格')
   elif x >= 60:
       print('及格')
   elif x >= 80:
       print('良好')
   else:
       print('优秀')
   ```
   A. 不及格  
   B. 及格  
   C. 良好  
   D. 优秀  

   ✅ 解答：该题为`if-elif-else`分支语句，只有一个分支会被执行：按顺序判断条件，第一个为真的执行，后面的都不执行。  
   所以这段代码只会执行第一个`elif`分支的内容，输出`及格`。

---

3. 下面程序的输出结果是什么？(D)
   ```python
   score = 95
   if x < 60:
       print('不及格')
   if x >= 60:
       print('及格')
   if x >= 80:
       print('良好')
   else:
       print('优秀')
   ```
   A. 输出 及格  
   B. 输出 良好  
   C. 输出 优秀  
   D. 输出 及格 和 良好

   ✅ 解答：该题需要注意程序的结构，两个`if`语句加上一个`if-else`语句，执行顺序如下：

   >1. 执行第一句 `score = 95`
   >2. 执行`if x < 60`单分支，条件不满足，所以无输出；  
   >3. 执行`if x >= 60`单分支，条件满足，所以输出`及格`；
   >4. 执行`if-else`二分支，`x >= 80`条件满足，所以输出`良好`，`else`内容不再执行。
   >5. 程序结束

---

4. 下面程序的输出结果是什么？(A)
   ```python
   sum = 0
   for i in range(10):
       if i%2 == 0:
           sum += i
   print(sum)
   ```
   A. 20  
   B. 25  
   C. 30  
   D. 45  

   ✅ 解答：`range(10)`返回的是0~9序列，不含10，所以`sum`的值为`0+2+4+6+8`


---

5. 下面程序的输出结果是什么？(B)
   ```python
   sum = 0
   for i in range(10):
       if i%2 == 0:
           continue
       sum += i
   print(sum)
   ```
   A. 20  
   B. 25  
   C. 30  
   D. 45  

   ✅ 解答：在0~9的循环过程中：  
   - 当`i%2 == 0`时，执行`continue`语句跳过本次循环，所以`sum + =i`被跳过不执行
   - 当`i%2 != 0`时，`if`语句不执行，所以`sum += i`被执行  

   所以`sum`的值为`1+3+5+7+9`。

---

6. 下面程序的输出结果是什么？(B)
   ```python
   sum = 0
   for i in range(3,10):
       if i%2 == 0:
           break
       sum += i
   print(sum)
   ```
   A. 0  
   B. 3  
   C. 18  
   D. 24  

   ✅ 解答：代码执行过程如下：  
   >1. 执行第一句`sum = 0`  
   >2. 执行`for`循环：
   >>第一次循环：`i=3`，不满足`if`条件，执行`sum += i`，`sum`变为`3`  
   >>第二次循环：`i=4`，满足`if`条件，执行`break`，退出循环  
   >3. 执行`print(sum)`  

   所以结果为`3`


---

7. 分支结构练习一，使用`if-else`结构实现下面的程序：  
输入`1~12`的整数，若它对应的月份为31天则输出`YES`，否则输出`NO`。  
提示：有31天的月份为1、3、5、7、8、10、12月

   ✅ 解答：

   ```python
   month = int(input("请输入月份："))
   if month in [1,3,5,7,8,10,12]:
        print("YES")
   else:
        print("NO")
   ```
   还记得所有序列类型都支持`in`用法么？下面两种写法是等价的，但显然第一种更加简洁：
   ```python
   if month in [1,3,5,7,8,10,12]:
   ```
   ```python
   if month == 1 or month == 3 or month == 5 or month == 7 or month == 8 or month == 10 or month == 12:
   ```

---

8. 分支结构练习二，使用`if-elif-else`结构实现下面的程序：  
气象预报时，一般按照风速对飓风进行分级，下表给出了飓风风速(英里/小时)与级别的对应关系，编写程序，根据用户输入的风速，输出对应的飓风级别。  

      | 风速 | 74\~95 | 96\~110 | 111\~130 | 131\~154 | 155及以上 |
      |------|--------|---------|----------|----------|-----------|
      | 级别 | 1      | 2       | 3        | 4        | 5         |

   ✅ 解答：
   ```python
   speed = int(input("请输入风速："))
   if speed >= 155:
   	print(5)
   elif speed >= 131:
   	print(4)
   elif speed >= 111:
   	print(3)
   elif speed >= 96:
   	print(2)
   elif speed >= 74:
   	print(1)
   else:
   	print("不在飓风范围内")
   ```

---

9. 使用`for`循环计算1<sup>2</sup>+3<sup>2</sup>+5<sup>2</sup>+7<sup>2</sup>+……+997<sup>2</sup>+999<sup>2</sup>。
    （结果应为166666500）

   ✅ 解答：

   ```python
   sum = 0
   for i in range(1,1000,2):
   	sum += i**2
   print(sum)
   ```

---

10. 使用`for`循环输出所有的水仙花数。  
    水仙花数是三位数的整数，它的各位数字的立方和等于该数，例如153 = 1<sup>3</sup>+5<sup>3</sup>+3<sup>3</sup>，所以是水仙花数。  
    （所有的水仙花数包括153、370、371、407）

    ✅ 解答：

    ```python
    #最小的三位数是100，最大的是999，遍历所有的三位数
    for num in range(100, 1000):
        x = num // 100 #x为num的百位数
        y = (num - x*100) // 10 #y为num的十位数
        z = num - x*100 - y*10 #z为num的个位数
        if x**3 + y**3 + z**3 == num:
            print(num)
    ```

---

11.  阶乘的计算，`N的阶乘=1*2*3*4*……*(N-1)*N`，请由用户输入一个正整数，编程计算其阶乘并输出。

     ✅ 解答：

     ```python
     N = int(input("请输入一个整数："))
     result = 1
     # range不能从0开始，否则乘以0结果一定为0，所以从1开始
     # range不能到N结束，否则不会包含N，所以到N+1结束
     for i in range(1, N+1):
        result *= i
     print(result)
     ```

---

12. 已知某个列表`ls = [4, 9, 19, 8, 391, 39, 9, 283, 45]`，请编程查找最大值并输出，**不得**使用`max(ls)`。

    ✅ 解答：

    ```python
    ls = [4, 9, 19, 8, 391, 39, 9, 283, 45]
    # 让max等于列表的第0个元素
    max = ls[0]
    # 对列表的索引进行遍历，因为max等于ls[0]，所以从1开始
    for i in range(1, len(ls)):
    	# 如果该元素比max大，则让max等于它，确保max始终是当前的最大值
    	if ls[i] > max:
    		max = ls[i]
    print(max)
    ```
    也可以不对索引遍历，直接对列表中的元素进行遍历，但这样会多进行一次无意义的比较（`max`与`ls[0]`的比较）：
    ```python
    ls = [4, 9, 19, 8, 391, 39, 9, 283, 45]
    # 让max等于列表的第0个元素
    max = ls[0]
    # 对列表中的元素进行遍历
    for item in ls:
    	# 如果该元素比max大，则让max等于它，确保max始终是当前的最大值
    	if item > max:
    		max = item
    print(max)
    ```

---

13. 现有空列表`ls = []`，请将`[1,300]`闭区间中所有同时为2、3、5倍数的整数添加到该列表中，然后输出该列表。

    ✅ 解答：

    ```python
    ls = []
    # [1,300]是闭区间，表示包含300，所以range函数要到301结束
    for i in range(1, 301):
    	if i%2==0 and i%3==0 and i%5==0:
    		ls.append(i)
    print(ls)
    ```

    当然，因为2、3、5的最小公倍数是30，我们也可以这么写：
    ```python
    ls = []
    # 从第一个满足条件的数30开始，每隔30取一个
    for i in range(30, 301, 30):
    	ls.append(i)
    print(ls)
    ```


---

14.  编写一个程序，用户可以**不断的输入数字**，程序输出当前所有输入数值的累加和，当用户输入字符`Q`时，程序结束。  
    运行示例（不同字体表示用户输入）：  

     >请输入一个数字，或字符Q退出：`3`  
     >累加和为： 3  
     >请输入一个数字，或字符Q退出：`4`  
     >累加和为： 7  
     >请输入一个数字，或字符Q退出：`2`  
     >累加和为： 9  
     >请输入一个数字，或字符Q退出：`Q`  
     >再见！  

     ✅ 解答：  

     ```python
     sum = 0
     while True:
     	s = input("请输入一个数字，或字符Q退出：")
     	if s == "Q":
     		break
     	sum += int(s)
     	print("累加和为：", sum)
     print("再见！ ")
     ```

     
---

15.  莱布尼兹公式可以用来计算π的值，其公式如下：  
    <img src="https://gitee.com/nixius/rb/raw/master/formulas/Leibniz.png" height="45" align="center"/>  
其中的`∑`表示累加，从`k=0`一直累加到`k=∞(无穷大)`，这显然不合适用计算机去解决。因此我们可以只计算前面的N项，例如累加`k=0`到`k=10000`来近似的计算π。编写一个程序，由用户输入计算项N的大小，程序输出π的近似值。  
运行示例（不同字体表示用户输入）：
    >请输入要计算的项数：`10000`  
    >3.1414926535900345


     ✅ 解答：

     ```python
     N = int(input("请输入要计算的项数："))
     pi = 0
     # 先计算后面的累加
     for k in range(N):
        pi += (-1)**k / (2*k+1)
     # 再乘以4
     pi *= 4
     print(pi)
     ```

---

16. 现有字符串s，内容为歌曲《打靶归来》的部分歌词：`s="日2落3西2山5红32霞16飞2，战2士5打2靶5把1营76归5，把6营1归5"`，其中的数字部分为音调。请逐字符输出打印该歌词字符串s，但不打印其中的音调数字。

    ✅ 解答：

    ```python
    s="日2落3西2山5红32霞16飞2，战2士5打2靶5把1营76归5，把6营1归5"
    # 遍历字符串
    for c in s:
    	# 如果字符是数字，则跳过
    	if '0' <= c <= '9':
    		continue
    	# 字符不是数字，正常打印
    	print(c)
    ```
---

17. 某新兵连打靶，第一天消耗子弹100发，第二天消耗120发，第三天消耗140发，……，每天消耗的数量比前一天多20发，请编程计算30天共消耗了多少子弹。

    ✅ 解答：

    ```python
    sum = 0  # 总消耗
    day_shots = 100  # 当天的消耗数
    for i in range(30):
        # 累加当天的消耗
    	sum += day_shots
        # 下一天的消耗增加了20发
    	day_shots += 20
    print("30天共消耗了{}发子弹".format(sum))
    ```

---

18. 在评价成绩时，不能光看平均成绩，还需要考虑其稳定性，比如张三的期末考试成绩是`66、78、95、82、63、84`，李四的期末考试成绩为`80、78、85、75、76、74`，虽然平均成绩都一样，但张三明显比李四要偏科。  
    在数学上，我们一般使用`标准差`来描述样本的稳定性，其公式为：  
    <img src="https://gitee.com/nixius/rb/raw/master/formulas/sigma.png" height="45" align="center"/>  
    其中`𝜎`为标准差，`x`为样本值，`𝜇`为所有样本的平均值，`N`为样本数量。  
    例如对于张三，其期末成绩的平均值是`78`，所以其标准差有：  
    <img src="https://gitee.com/nixius/rb/raw/master/formulas/sigma_sample.png" height="80" align="center"/>  
    最终张三的标准差为`10.88`(118.33开平方)，同理可计算出李四的标准差为`3.70`。  
    现在有王五，其期末考试成绩为`82、94、92、73、87、78`，请编程计算并输出其标准差。（结果应为`7.45`）  

    ✅ 解答：

    ```python
    ls = [82, 94, 92, 73, 87, 78]

    # 计算平均值average
    sum = 0
    for i in ls:
    	sum += i
    average = sum / len(ls)

    # 计算公式上方的差值平方和
    # 这两个循环不能放在一起，因为下面的依赖上面的计算结果
    sum = 0
    for i in ls:
    	sum += (i - average)**2

    # 计算标准差sigma
    sigma = (sum/len(ls))**0.5
    print("标准差为{:.2f}".format(sigma))
    ```

---

19.  行军结束后，某汽车发动机的核心温度为178℃，已知每小时发动机温度降低22%，即一个小时后温度为`178*(1-0.22)`，两小时后温度为`178*(1-0.22)*(1-0.22)`，依次类推有`间隔一个小时后的温度 = 当前温度*(1-0.22)`。  
    请问几个小时后，发动机温度不高于气温22℃？请编程解决。  
    提示：使用while循环每个小时的温度，循环退出条件为温度不高于22。（答案为`9`小时）

     ✅ 解答：

     ```python
     current = 178  # 当前发动机温度
     rate = 0.22  # 降温比例速度
     dest = 22  # 目标温度
     hours = 0  # 经过的小时

     while current > dest:  # 当温度高于22℃时
     	hours += 1  # 时间往后1个小时
     	current *= (1-rate)  # 计算间隔1小时后的温度

     print("经过{}小时候，发动机温度为{:.2f}℃".format(hours, current))
     ```

---

20.   素数判断。用户输入一个大于2的正整数，编程判断其是否为素数并输出。  
     提示1：如果一个整数仅能被1和它自己整除，则为素数，否则不是。  
     提示2：对于整数N，可以从2循环到N-1，测试是否能整除。  

      ✅ 解答：

      ```python
      N = int(input("请输入一个大于2的整数:"))

      isPrime = True  # 假定N是素数
      for i in range(2, N):  # i从2遍历到N-1，如果N是素数，则所有的i都应该不能被N整除
      	if N%i==0:  # 如果i能被N整除，说明N不是素数，后面的i就不用继续判断整除了
      		isPrime = False  # 更改素数判定
      		break  # 退出循环

      if isPrime:
      	print("是素数")
      else:
      	print("不是素数")
      ```
      >素数是数学中的一个重要概念，对大素数的判断是当前信息安全的基石之一（RSA加密算法），素数判断的方法不止一种，上面是最直观和易于理解的，速度也会慢很多，因此在实际中一般不会这样去应用。  
      >另外，上面的代码可以做简单的改进，你能想到么？

---

21. 输出`5`以内的乘法口诀表（包括5），内容如下：   
    <pre>
    **********
    1*1=1
    1*2=2
    1*3=3
    1*4=4
    1*5=5
    **********
    2*1=2
    2*2=4
    2*3=6
    2*4=8
    2*5=10
    **********
    3*1=3
    3*2=6
    3*3=9
    3*4=12
    3*5=15
    **********
    4*1=4
    4*2=8
    4*3=12
    4*4=16
    4*5=20
    **********
    5*1=5
    5*2=10
    5*3=15
    5*4=20
    5*5=25
    </pre>

      ✅ 解答：

    ```python
    for x in range(1,6):
        print("**********")
        for y in range(1,6):
            print("{}*{}={}".format(x,y, x*y))
    ```

    常见问题：
    - 不会`for`循环的嵌套，写了5个`for`循环
    - `range(1,6)`写成了`range(5)`或者`range(1,5)`
    - `print("**********")`位置或缩进有问题