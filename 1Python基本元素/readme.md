# Python基本元素

## 一、程序设计概述
### 1、低级编程语言
在计算机内部，所有信息都使用二进制表示，计算机所执行的程序实际上是由一条条`二进制指令`组成的，又称之为`机器码`，通过特定的反汇编程序（如ollydbg），可以看到它的内容可能是这个样子的：
```
……
111100010110101010100001000
1110000001100010100100111011111111011001111
111100010010101010111111000
……
```
计算机执行这样的指令当然没问题，但这样的指令是我们**人**交给计算机的，我们人类看这些二进制的指令实在是太费劲了，为了 _偷懒_ ，人们发明了助记符用来表示二进制指令，这就是`汇编语言`，汇编语言本质上和二进制指令是一样的，完全一一对应。使用汇编语言，上面的二进制指令也许是这个样子的：
```asm
……
MOV EDX,DWORD PTR SS:[EBP+8]
ADD EDX,DWORD PTR DS:[EBX*4+7735CFFE]
MOV DWORD PTR SS:[EBP-8],EDX
……
```
不管是二进制指令，还是汇编语言，它们都是直接面向计算机的底层硬件中央处理器（CPU）的，因此我们也称之为`低级编程语言`。  
即使有了汇编语言的帮助，低级编程语言写起来还是太麻烦，需要记住CPU的各种指令，非常不方便阅读和理解。而且更为麻烦的是，不同CPU的指令是不一样的，因此，同样一段低级编程语言代码，很可能是不能在不同的计算机上运行的。  
>懒惰是人类进步的动力。
><div align=right>——鲁迅，我还是没有说过这句话</div>
### 2、高级编程语言
为了能够更加方便的实现计算机程序，人们希望能以**近似人类自然语言的方式去编写程序，并且机器无关，编程方式一致**，这就是`高级编程语言`。下面是计算`0+1+2+3……+99`的Python代码，可以看到是非常符合人类的直觉的。
<details>
<summary>展开查看代码</summary>
<code><pre>
sum = 0
for i in range(100):
    sum += i
print(sum)
</pre></code>
</details>

但是需要我们注意的是，不管使用何种方式去控制计算机，计算机最终执行的一定是二进制的指令，因此，高级编程语言编写出的代码，一定要通过某种方式转变为二进制指令，然后才能由计算机去执行。  
通常情况下，在设计高级编程语言的时候，有两种思路将高级编程语言的代码（称之为源代码）转换为机器的二进制指令：
#### (1) 编译型语言
需通过编译器将源代码编译成机器码，之后才能执行，一般需经过编、链接两个步骤：编译是把源代码编译成机器码，链接是把各个模块的机器码和依赖库串连起来生成可执行文件。  
编译型语言的特点是只需要编译一次，生成的可执行文件可以反复运行，运行时无需源代码和编译器。  
这样做的好处是可以在编译时充分优化代码，提高执行效率，而且运行时无需额外的环境；缺点是编译时间长，生成的可执行程序可能无法跨平台运行。  
典型的编译型语言有：C、C++、Pascal、Swift等
#### (2) 解释型语言
和编译型语言相对应的是解释型语言，在运行程序的时候，由解释器逐行把源代码翻译成目标代码再运行。  
解释型语言的特点是运行时逐行翻译执行，因此每次运行都需要重新解释，离不开源代码和解释器。  
这样做的好处是只要特定的平台上有解释器，代码就可以运行，平台兼容性好、部署快；缺点则是运行是翻译影响了执行速度，且离不开解释器。  
典型的解释型语言有：Java、JavaScript、**Python**等    
> 备注1：实际上现代的高级编程语言会进行多种优化，一门语言到底是编译型还是解释型有时候很难说清。  
> 
> 备注2：除了上面的分类外，对高级编程语言来说还有很多分类方式，如编译型语言 vs. 解释型语言、动态语言 vs. 静态语言、动态类型语言 vs. 静态类型语言、强类型语言 vs. 弱类型语言等，Python是解释型语言、动态语言、动态类型语言、强类型语言。

## 二、Python语言概述
Python，译为“蟒蛇”，Guido van Rossum创立，现由非盈利性组织Python Software Foundation(PSF)维护，致力于保护Python语言开放、开源和发展。  
Python广泛使用的有两个版本，分别是Python 2和Python 3，其中Python 2已经停止维护了，现在的主流是Python 3，目前的最新版本是3.8.1(2020年2月16日)。  
>***<u>重要提示：Python 2和Python 3是不兼容的，我们学习的是Python 3！</u>***  
> 大家在网上查阅资料时，要注意区分，否则可能是错误的！

Python的语法非常简单，对新手特别友好。由于简单易用，加上极其丰富的第三方库，被广泛的运用在在科学计算、数据分析、人工智能、搜索引擎、网络服务等领域。  
[演示：批量重命名图片](./演示/演示：批量重命名图片/)  
[演示：汉诺塔](./演示/演示：汉诺塔)  
[演示：飘雪特效](./演示/演示：飘雪特效)  
[演示：疫情数据获取及可视化](./演示/演示：疫情数据获取及可视化)  

## 三、计算概论
在继续进一步的介绍Python之前，我们还需要进一步的认识以下计算机和计算的概念。计算机到底是什么？计算机是代替人进行计算的工具。那计算又是什么？我们在学习知识的时候，不能仅仅有感性的认识，还需要有更深一步的科学的系统的理解。
### 1、计算的概念
**【计算】** 指在某种计算装置上，根据已知条件，从某一个初始点开始，在完成**一组良好定义的序列**后，得到预期结果的过程。  

从定义上看，我们需要注意两点：
- 计算的过程可由人或某种计算装置执行。  
- 同一个计算可能存在多种计算方式。  

计算机作为工具，本身是不会思考的，只会执行给定的指令。从上面的解释我们可以看出编程的本质，实际上是把人的计算过程转换为计算机的计算过程，从而实现计算机代替人进行计算的目的。因此我们在通过编程解决实际问题的时候，重点是两点：
- 人是如何计算的？使用算法进行精确的描述。
- 如何把人的计算过程转换为计算机的计算过程？遵循程序设计语言的语法。

我们现在的学习，主要集中在第二点，即Python的语法；关于第一点，不是我们课程学习的重点，但我们必须认识到，第一点是编程解决问题的基础。

### 2、算法的概念
**【算法】** 求解问题类的、机械的、统一的方法，它由有限个步骤组成，对于问题类中的每个给定的具体问题，机械地执行这些步骤就可以得到问题的答案。  

算法的五个基本特征：  
1. 输入  
2. 输出
3. 明确性/确定性  
   算法的每一步都必须是清晰的，没有歧义的。比如我们上次作业中提到的买西瓜的例子，就是违反了这一点。
4. 有限性  
   算法必须是可以结束的，不能无限的循环
5. 有效性/可行性  
   算法应该行之有效，在有限的时间内完成，是人或计算机力所能及的。

算法的三个基本结构：
1. 顺序结构
2. 选择结构
3. 循环结构

### 3、最大公约数算法
#### (1)辗转相除法
人类历史上有记载的第一个算法是使用辗转相除法计算两个整数的最大公约数，又称为欧几里得算法，算法描述如下。  
> 假设有m和n两个正整数，m>n，计算步骤如下：
> 1. 令r为 m除以n的余数
> 2. 若r为0，则n为最大公约数，结束
> 3. 若r不为0，令m=n，n=r，转至第1步

上面的文字描述算法的方式，我们又称之为`伪代码`。我们也可以采用`流程图`的方式来表示算法。
<details>
<summary>点击查看流程图</summary>

![](https://gitee.com/nixius/rb/raw/master/gcd1.png)
</details>

当然，我们也可以使用Python来完成上面的算法，从而在计算机上进行计算。

<details>
<summary>点击查看代码</summary>

```python
m = int(input("请输入第一个整数:"))
n = int(input("请输入第二个整数:"))

if m < n:
	m, n = n, m

while True:
	r = m % n
	if r != 0:
		m, n = n, r
	else:
		break
print("最大公约数为：", n)
```
</details>

#### (2)另一种算法
辗转相除法非常简洁，计算速度也非常快，但不太容易理解。对于初学者，我们还可以采用另一种方法来计算最大公约数，我们算便取个名字叫逆序查找法，其算法描述如下。
> 假设有m和n两个正整数，m>n，计算步骤如下：
> 1. 令k=n
> 2. 如果m能整除k，n也可以整除k，则k为最大公约数，结束
> 3. 若m不能整除k或n不能整除k，令k=k-1，转至第2步

<details>
<summary>点击查看流程图</summary>

![](https://gitee.com/nixius/rb/raw/master/gcd2.png)
</details>
<details>

<summary>点击查看代码</summary>

```python
m = int(input("请输入第一个整数:"))
n = int(input("请输入第二个整数:"))

k = min(m, n)

for i in range(k+1, 0, -1):
	if m % i == 0 and n % i == 0:
		print("最大公约数为：", i)
		break
```
</details>

## 四、Python基本元素介绍
首先，我们看一个用于计算身体质量指数BMI的示例，然后再对例子中的代码进行介绍。
```python
'''
这是一个简单的Python程序示例，用于展示各个元素
程序功能为计算输出身体质量指数，并给出WHO标准下的是否正常提示
BMI = 体重/(身高的平方)
'''

weight = float(input("请输入您的体重(KG): "))
height = float(input("请输入您的身高(M): "))
bmi = weight / height**2  # 计算身体质量指数
print("您的身体质量指数为:", bmi)
# WHO标准下，正常的BMI指数范围为18.5~24.9
if 18.5 <= bmi <= 24.9:
    print("指数在正常范围内，继续保持！")
else:
    print("指数不在正常范围内，请注意调整！")
print("程序结束")
```

### 1、注释
为了方便理解代码或进行标记，我们常常会在代码中加入注释，编译器或解释器会忽略它们，也就是说它们不会被执行，是给人看的。  
Python中的注释是以`#`开头的，一直到行尾结束。注释可以位于行首，表示整行都是注释，也可以位于中间，表示后面部分是注释。  
另外，我们注意到代码的开头部分有大段的文字描述，用三个单引号`'''`包裹起来，它们也不会被执行，可以被看做是注释。
>三个单引号`'''`包裹起来的内容不一定是注释，它的本质是字符串，只是例子中的没有被执行而已。  
>对于新手而言，这一点很容易迷惑，因此建议使用`#`而不要轻易使用`'''`来包裹注释，如果要用的话，像例子中一样，放在代码的最前面。

### 2、缩进
Python为人称道的一个地方就是代码的结构非常的清晰，这时因为Python语言采用 **严格** 的 **“缩进”** 来表明程序的格式框架。缩进指每一行代码开始前的空白区域，用来表示代码之间的包含和层次关系。需要注意的有以下几点，**新手一定要牢记**：
- 只有特定的语句才需要缩进，否则行首不要有空白！
- 缩进使用`TAB`键或者固定数量的空格(一般为四个），但同一个文件中必须保持一致，**不能混用**！
- 缩进代码块的前一行末尾**一定是有冒号`:`的**
- 缩进可以嵌套，表示多层框架逻辑

>缩进是新手特别容易犯错的地方，一定要注意！  
>上面几点其实不是严格正确的，但建议新手遵循！

### 3、字面常量和变量
和数学计算一样，我们经常会在程序中写出`x = 3`这样的句子。其中`3`是写在代码中的值，我们称之为`字面常量`，`3`本身值是不可能发生改变的；`x`在后续代码中可以改变它的值，我们称之为`变量`。

#### (1) 字面常量
在上面的例子中，`2`、`18.5`和`24.9`都是字面常量，它们都是数值，可以进行数学运算。除了它们之外，上面其实还有一些字面常量，分别是：
- `"请输入您的体重(KG): "`
- `"请输入您的身高(M): "`
- `"您的身体质量指数为:"`
- `"指数在正常范围内，继续保持！"`
- `"指数不在正常范围内，请注意调整！"`
- `"程序结束"`

这些用双引号包裹起来的内容，也是字面常量，属于`字符串`，表示一串文本内容，很明显，文本是无法进行数学运算的，与数字有着本质的区别。字符串必须用单引号`'`或双引号包`"`裹起来，在后面的内容中，我们会进一步学习。
>注意：单引号和双引号都是英文符号，和中文的引号是不一样的，仔细看却别，这是新手非常非常容易出错的地方。  
>英文单引号`'`，英文双引号`"`  
>中文单引号`‘`，中文双引号`”`

#### (2) 变量
##### 1) 赋值语句
变量是用来存储值的地方，它的内容可以发生变化<sup>*</sup>。上面例子中的变量有`weight`、`height`和`bmi`，变量可以通过等号`=`进行赋值，我们称之为赋值语句。  
赋值语句的左侧一定是变量，把右侧的结果赋给它。例如：
```python
r = 8
pi = 3.14
area = pi * r * r
tip = "这是一段文字"
```
>这段话在Python中并非严格正确，但对于初学者可以这么理解，在后面的内容中，我们会深入的看看到底怎么回事。  
>>变量是用来存储值的地方，它的内容可以发生变化*  

变量的值是可以变化的，因此我们可以对它进行多次赋值，下面的例子是正确的：
```python
x = 3
x = 5.2
x = x + 1
print(x)   # 输出6.2
```
在Python中，变量的值的类型也可能变化：
```python
x = 3              # x的内容是一个数字
x = "你好，中国"    # x的内容是一个字符串
print(x)    # 输出  你好，中国
```

需要特别注意的是，变量必须有值，才能使用它，也就是说变量必须在赋值语句的左边出现过，才能在后面使用它，或者说 ***<u>变量的第一次出现，一定是在赋值语句的左边</u>*** ，这点看起来很明显，却是非常多人犯的错误。下面是一个**错误**的例子：
```python
y = x + 1    # 错误。x是什么？谁都不知道！
print(y)
```
>变量的第一次出现，一定是在赋值语句的左边，对于这样的赋值语句，我们一般也称为变量的`定义`

##### 2) 连续赋值和同步赋值
有时候为了方便，我们喜欢使用连等，Pyton也支持这样的作法，这叫做连续赋值。
```python
x = y = z = 5
```
注意，下面的写法是错误的，想想看为什么。
```python
z = 5
x = y + 3 = z  # 错误，因为=的左侧必须是变量，y+3不是
```
除了连续赋值，Python还支持同步赋值，这是一种非常方便的写法。
```python
x,y = 3,4
a,b,c = 6,7,8
```
为什么叫同步赋值呢？因为同步赋值时，会先把`=`右侧的值全部计算出来，然后同时赋值给左边的变量。
```python
x,y = 3,4
x,y = y+2,x+1  # 先计算等号右侧，结果为6,4，然后同时赋值给x,y，所以最终x为6，y为4
```
使用同步赋值，可以非常方便的交换两个变量的值：
```python
x,y = 3,4
x,y = y,x  #交换x和y的值
```
> 想想看，如果不使用同步赋值，该如何交换x和y的值？

##### 3) 变量名要求
和人的名字不能随便乱取一样，Python中的变量名也有一定的规定，具体要求如下：
1. 只能包含：
   1. 英文字母(大写或小写)
   2. 数字
   3. 下划线`_`
   4. 非ASCII字符(如中文、日文、韩文、阿拉伯文字、表情符号等)
2. 不能包含：
   1. 任何标点符号(下划线`_`除外)
   2. 空格
3. 不能以数字开头
4. 不能使用关键字作为变量名

除了上面几点外，就基本没有其它要求了。
这些变量名都是合法的：
```python
name
student_count
studentCount
team3
_price_
人数
student人数
```
这些变量名是不合法的：  
```python
3team			# 不能以数字开头
student count	# 不能包含空格
class.name		# 不能包含任何标点符号，下划线除外
teacher’name	# 不能包含任何标点符号，下划线除外
“name”			# 不能包含任何标点符号，下划线除外
teacher+student # 不能包含任何标点符号，下划线除外
addr@GUANGZHOU	# 不能包含任何标点符号，下划线除外
```
**需要注意的是，Python的变量名是区分大小写的，因此`name`和`Name`是两个不同的变量。**

>变量名除了必须符合编程语言自身的语法强制性规定外，通常还会遵循一定的命名规范，基本上每个大公司都会有自己的具体要求，这是一个充满争议性的话题。  
>但不管是哪一种命名规范，基本上都会要求变量名清晰易懂，好的变量名可以通过名称告诉别人它的具体意义，例如`studentName`、`count`、`applePrice`等，这些则是反例：`l1iLO0o`、`iLl10oO`、`ilL1Oo0`。  
>除此之外，我们一般不使用中文作为变量名，这不是一个好习惯。  
>关于命名规范的更多内容，请自行搜索查阅。

### 4、关键字
`关键字`又称为`保留字`，指编程语言中预留的具有特殊汉字的字符串，它们不能被作为变量名使用。  
Python中的关键字如下：
<table>
    <tbody>
        <tr><td>and</td> <td>as</td> <td>assert</td> <td>async</td> <td>await</td> <td>break</td> <td>class</td></tr>
        <tr><td>continue</td> <td>def</td> <td>del</td> <td>elif</td> <td>else</td> <td>except</td> <td style="color:red; font-weight:bold;">False</td></tr>
        <tr><td>finally</td> <td>for</td> <td>from</td> <td>global</td> <td>if</td> <td>import</td> <td>in</td></tr>
        <tr><td>is</td> <td>lambda</td> <td style="color:red; font-weight:bold;">None</td> <td>nonlocal</td> <td>not</td> <td>or</td> <td>pass</td></tr>
        <tr><td>raise</td> <td>return</td> <td style="color:red; font-weight:bold;">True</td> <td>try</td> <td>while</td> <td>with</td> <td>yield</td></tr>
    </tbody>
</table>

请注意表中的三个关键字`True`、`False`、`None`，它们的首字母是大写的，其余的关键字全部都是小写。  
**再次强调，Python是大小写敏感的，因此`And`、`If`、`TRUE`和`false`等不是关键字**

### 5、操作符、函数调用和表达式
（待续）